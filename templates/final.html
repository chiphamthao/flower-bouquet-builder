{% extends "layout.html" %}
{% block title %}Final Score{% endblock %}

{% block content %}
<div class="container mt-5" style="font-family: 'Indie Flower', sans-serif;">
  <h2 class="text-center mb-4" style="font-size: 2rem;">Quiz Results</h2>

  <p class="text-center" style="font-size: 1.2rem;">Questions Correct</p>
  <h3 class="text-center mb-3">{{ quiz_score }} / {{ quiz_total }}</h3>

  <p class="text-center" style="font-size: 1.2rem;">Flower Bouquet Attempts</p>
  <h3 class="text-center mb-4">{{ bouquet_score }} / {{ bouquet_total }}</h3>

  <p class="text-center" style="font-size: 1.5rem;">Total Score: {{ total_score }} / {{ quiz_total + bouquet_total }}</p>

  <hr class="my-4" />

  <div class="text-center" style="margin-top: 30px;">
    <div
      id="canvas"
      style="width: 400px; height: 400px; border: 2px solid #ccc; margin: 0 auto; position: relative;"
    >
      {% for flower in canvas_flowers %}
        <img
        src="{{ url_for('static', filename=flower['src'] if 'images/' in flower['src'] else 'images/' + flower['src']) }}"    
          style="position: absolute;
                 top: {{ flower['top'] }};
                 left: {{ flower['left'] }};
                 width: {{ flower['width'] }};
                 transform: rotate({{ flower['rotation'] }})"
        />
      {% endfor %}
      {% if not canvas_flowers %}
        <p style="color: #aaa; margin-top: 180px;">Created bouquet image here</p>
      {% endif %}
    </div>
  </div>

  <div class="text-center mt-4">
    <a href="/" class="btn btn-outline-primary">Return Home</a>
  </div>
</div>

<script src="{{ url_for('static', filename='final.js') }}"></script>
{% endblock %}

